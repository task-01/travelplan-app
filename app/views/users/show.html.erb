<div class="top">
  <div class="show-image-class">
    <% if @travelplan && @travelplan.prefecture_name&.match?(/都|道|府|県/) %>
    <% image_url = "https://potepanecportfolio.s3.ap-northeast-1.amazonaws.com/prefectures/#{prefecture_to_english(@travelplan.prefecture_name)}.png" %>
    <div class="prefecture-image-area" 
      style="background-image: url('<%= image_url %>');">
    <h1 class="travelplan_prefecture_name"><%= @travelplan.prefecture_name %></h1>
    <% else %>
    <div class="show-image-area">
    <% end %>
      <div class="show-mypage-area">
        <div class="show-top">
          <div class="show-mypage">
            <div class="defult-image">
              <%= image_tag "user_image/defult_user.png" %>
            </div>
            <div class="edit-area">
              <%= link_to "プロフィール編集", "#", class: "btn btn-secondary editpage"%>
            </div>
          </div>
          <div class="show-user"><%= @user.name %>12345678912345678</div>
          <div class="show-top-footer">
            <ul class="list-group list-group-horizontal justify-content-between mypage-travel-area">
              <span class="border border-secondary"></span>
              <li class="list-group-item">
                旅行プラン投稿数
              </li>
              <span class="border border-secondary"></span>
              <li class="list-group-item">
                いいね数
              </li>
              <span class="border border-secondary"></span>
              <li class="list-group-item">
                旅行数
              </li>
              <span class="border border-secondary"></span>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="item-contents">
      <div class="tab-area d-flex justify-content-around">
        <div class="tab active border-2 border-start border-end border-secondary" data-value='1' >
          <h3>セット中の旅行プラン</h3>
        </div>
        <div class="tab border-2 border-start border-end border-secondary" data-value='2' >
          <h3>いいね履歴</h3>
        </div>
        <div class="tab border-2 border-start border-end border-secondary" data-value='3' >
          <h3>旅行プラン履歴</h3>
        </div>
      </div>
    </div>
    <div class="content-area">
      <div class="content show">
        <% if @travelplan&.gpt_response&.present? %>
          <%= render 'shared/set_travel' %>
        <% end %>
      </div>
      <div class="content">
        <p>こんち</p>
      </div>
      <div class="content">
        <p>こんにちは</p>
      </div>
    </div>
  </div>
</div>
<script>
document.addEventListener("turbolinks:load", function() {
  let tabs = $(".tab");
  tabs.on("click", function() {
    $(".active").removeClass("active");
    $(this).addClass("active");
    const index = tabs.index(this);
    $(".content").removeClass("show").eq(index).addClass("show");
  })
})
</script>
